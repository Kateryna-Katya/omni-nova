{"version":3,"file":"main-BuxxzI_b.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. REGISTER GSAP\n    gsap.registerPlugin(ScrollTrigger);\n\n    // 2. MOBILE MENU LOGIC\n    const burger = document.querySelector('.burger-btn');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-link');\n    const body = document.body;\n\n    function toggleMenu() {\n        burger.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        // Блокируем скролл страницы когда меню открыто\n        if (mobileMenu.classList.contains('active')) {\n            body.classList.add('no-scroll');\n        } else {\n            body.classList.remove('no-scroll');\n        }\n    }\n\n    burger.addEventListener('click', toggleMenu);\n\n    // Закрываем меню при клике на ссылку\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            toggleMenu();\n        });\n    });\n\n    // 3. TEXT ANIMATIONS (SplitType + GSAP)\n    const textElements = document.querySelectorAll('.split-text');\n    \n    textElements.forEach(el => {\n        // Разбиваем текст на слова/строки\n        const text = new SplitType(el, { types: 'lines, words' });\n        \n        gsap.from(text.words, {\n            scrollTrigger: {\n                trigger: el,\n                start: \"top 85%\",\n                toggleActions: \"play none none reverse\"\n            },\n            opacity: 0,\n            y: 30,\n            duration: 0.8,\n            stagger: 0.05,\n            ease: \"power3.out\"\n        });\n    });\n\n    // 4. SECTION REVEAL ANIMATIONS\n    const sections = document.querySelectorAll('.section');\n    sections.forEach(sec => {\n        gsap.from(sec.children, {\n            scrollTrigger: {\n                trigger: sec,\n                start: \"top 80%\"\n            },\n            opacity: 0,\n            y: 50,\n            duration: 1,\n            stagger: 0.2,\n            ease: \"power2.out\"\n        });\n    });\n\n    // 5. HERO CANVAS ANIMATION (Constellation Effect)\n    const canvas = document.getElementById('hero-canvas');\n    if(canvas) {\n        const ctx = canvas.getContext('2d');\n        let width, height;\n        let particles = [];\n\n        function resize() {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n        }\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * width;\n                this.y = Math.random() * height;\n                this.vx = (Math.random() - 0.5) * 0.5;\n                this.vy = (Math.random() - 0.5) * 0.5;\n                this.size = Math.random() * 2 + 1;\n            }\n            update() {\n                this.x += this.vx;\n                this.y += this.vy;\n                if (this.x < 0 || this.x > width) this.vx *= -1;\n                if (this.y < 0 || this.y > height) this.vy *= -1;\n            }\n            draw() {\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fillStyle = 'rgba(99, 102, 241, 0.5)'; // Primary color\n                ctx.fill();\n            }\n        }\n\n        function initParticles() {\n            particles = [];\n            for (let i = 0; i < 50; i++) particles.push(new Particle());\n        }\n\n        function animateCanvas() {\n            ctx.clearRect(0, 0, width, height);\n            \n            // Draw particles and lines\n            particles.forEach((p, index) => {\n                p.update();\n                p.draw();\n                \n                // Connect particles\n                for (let j = index + 1; j < particles.length; j++) {\n                    const p2 = particles[j];\n                    const dist = Math.hypot(p.x - p2.x, p.y - p2.y);\n                    if (dist < 150) {\n                        ctx.strokeStyle = `rgba(99, 102, 241, ${1 - dist/150})`;\n                        ctx.lineWidth = 0.5;\n                        ctx.beginPath();\n                        ctx.moveTo(p.x, p.y);\n                        ctx.lineTo(p2.x, p2.y);\n                        ctx.stroke();\n                    }\n                }\n            });\n            requestAnimationFrame(animateCanvas);\n        }\n\n        window.addEventListener('resize', () => { resize(); initParticles(); });\n        resize();\n        initParticles();\n        animateCanvas();\n    }\n\n    // 6. FORM & CAPTCHA\n    const form = document.getElementById('contactForm');\n    const num1 = Math.floor(Math.random() * 10);\n    const num2 = Math.floor(Math.random() * 10);\n    document.getElementById('captcha-question').textContent = `${num1} + ${num2} = ?`;\n\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const msgDiv = document.getElementById('formMessage');\n        const userAnswer = parseInt(document.getElementById('captcha-answer').value);\n        \n        // Валидация капчи\n        if(userAnswer !== (num1 + num2)) {\n            msgDiv.textContent = \"Ошибка: неверный ответ на пример\";\n            msgDiv.className = \"form-message error\";\n            return;\n        }\n\n        // Имитация AJAX\n        const btn = form.querySelector('button');\n        btn.textContent = \"Отправка...\";\n        btn.disabled = true;\n\n        setTimeout(() => {\n            msgDiv.textContent = \"Ваша заявка принята! Мы свяжемся с вами в ближайшее время.\";\n            msgDiv.className = \"form-message success\";\n            btn.textContent = \"Отправлено\";\n            form.reset();\n        }, 1500);\n    });\n\n    // 7. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookiePopup');\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.style.display = 'block';\n            gsap.from(cookiePopup, { y: 50, opacity: 0 });\n        }, 2000);\n    }\n\n    document.getElementById('acceptCookies').addEventListener('click', () => {\n        localStorage.setItem('cookiesAccepted', 'true');\n        gsap.to(cookiePopup, { opacity: 0, y: 50, duration: 0.5, onComplete: () => {\n            cookiePopup.style.display = 'none';\n        }});\n    });\n});"],"names":["burger","mobileMenu","mobileLinks","body","toggleMenu","link","el","text","sec","canvas","resize","width","height","initParticles","particles","i","Particle","animateCanvas","ctx","p","index","j","p2","dist","form","num1","num2","msgDiv","btn","cookiePopup"],"mappings":"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"}